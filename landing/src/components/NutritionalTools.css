/* --- CONTENEDOR PRINCIPAL --- */
.tools-compact-container {
    background: white;
    padding: 20px;
    border-radius: 12px;
    width: 100%;
    max-width: 1000px;
    margin: 0 auto;
    font-family: 'Inter', sans-serif;
    box-sizing: border-box;

    /* Configuraci贸n para PC */
    max-height: 90vh;
    overflow-y: auto;
}

/* --- HEADER --- */
.tools-compact-header {
    margin-bottom: 20px;
    border-bottom: 2px solid #f1f5f9;
    padding-bottom: 15px;
    position: sticky;
    top: -20px;
    background: white;
    z-index: 10;

    /* Flex para poner t铆tulo a la izquierda y X a la derecha */
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.tools-compact-title {
    margin: 0;
    color: #1e293b;
    font-size: 1.25rem;
    font-weight: 700;
}

/* Bot贸n de Cerrar (X) */
.btn-header-close {
    background: transparent;
    border: none;
    color: #64748b;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}
.btn-header-close:hover {
    background: #f1f5f9;
    color: #ef4444;
}

.patient-metrics-compact {
    margin-top: 8px;
    font-size: 0.9rem;
    color: #64748b;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
}

.metric-highlight {
    background: #e0f2fe;
    color: #0284c7;
    padding: 2px 8px;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.85rem;
}

/* --- GRID PRINCIPAL --- */
.tools-compact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 25px;
    align-items: start;
}

/* --- SECCIONES --- */
.compact-section {
    background: #f8fafc;
    border-radius: 12px;
    padding: 15px;
    border: 1px solid #e2e8f0;
}

.compact-section-title {
    margin: 0 0 15px 0;
    font-size: 0.85rem;
    text-transform: uppercase;
    color: #94a3b8;
    letter-spacing: 0.5px;
    font-weight: 700;
    display: flex;
    justify-content: space-between;
}

/* --- CAMPOS --- */
.compact-field { margin-bottom: 15px; }
.compact-field label { display: block; font-size: 0.85rem; color: #475569; margin-bottom: 6px; font-weight: 500; }
.compact-field select { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #cbd5e1; background: white; color: #334155; font-size: 0.95rem; outline: none; cursor: pointer; }

/* Botones Objetivo */
.goal-compact-buttons { display: flex; gap: 5px; }
.goal-compact-btn { flex: 1; padding: 8px 0; border: 1px solid #cbd5e1; background: white; border-radius: 6px; cursor: pointer; font-size: 0.85rem; color: #64748b; transition: all 0.2s; }
.goal-compact-btn.active { border-color: transparent; color: white; font-weight: 600; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.goal-compact-btn.active.cut { background: #ef4444; }
.goal-compact-btn.active.maint { background: #3b82f6; }
.goal-compact-btn.active.bulk { background: #10b981; }

/* --- RESULTADOS --- */
.compact-results-grid { display: flex; flex-direction: column; gap: 12px; }
.compact-result-card { background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #cbd5e1; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
.compact-result-card.bmr { border-color: #94a3b8; }
.compact-result-card.tdee { border-color: #3b82f6; }
.compact-result-card.target { border-color: #8b5cf6; background: #f5f3ff; }
.compact-result-label { font-size: 0.75rem; color: #64748b; text-transform: uppercase; font-weight: bold; }
.compact-result-value { font-size: 1.4rem; font-weight: 800; color: #1e293b; margin: 4px 0; }
.compact-result-unit { font-size: 0.8rem; color: #94a3b8; }
.compact-no-results { text-align: center; padding: 30px; color: #cbd5e1; font-style: italic; }

/* --- MACROS --- */
.compact-macros-list { display: flex; flex-direction: column; gap: 15px; }
.compact-macro-row { background: white; padding: 10px; border-radius: 8px; border: 1px solid #f1f5f9; }
.compact-macro-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px; font-size: 0.9rem; }
.compact-macro-bar { height: 6px; background: #f1f5f9; border-radius: 3px; overflow: hidden; margin-bottom: 4px; }
.compact-macro-fill { height: 100%; border-radius: 3px; }
.compact-macro-fill.protein-fill { background: #f87171; }
.compact-macro-fill.carbs-fill { background: #fbbf24; }
.compact-macro-fill.fats-fill { background: #a3e635; }
.compact-macro-kcal { font-size: 0.75rem; color: #94a3b8; text-align: right; }

/* --- BOTONES DE ACCIN (FOOTER) --- */
.tools-compact-actions {
    margin-top: 20px;
    display: flex; /* Ponemos los botones uno al lado del otro */
    gap: 10px;
}

.btn-compact-save {
    flex: 2; /* El bot贸n de guardar ocupa el doble de espacio */
    padding: 12px;
    background: #1e293b;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: background 0.2s;
}
.btn-compact-save:hover { background: #0f172a; }

.btn-compact-cancel {
    flex: 1; /* El bot贸n de cancelar es m谩s peque帽o */
    padding: 12px;
    background: white;
    color: #64748b;
    border: 1px solid #cbd5e1;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
}
.btn-compact-cancel:hover { background: #f1f5f9; color: #334155; }

/* =========================================
    MEDIA QUERIES (MVIL)
   ========================================= */

@media (max-width: 900px) {
    .tools-compact-grid {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 600px) {
    .tools-compact-container {
        padding: 15px;
        border-radius: 0;

        /* SCROLL EN MVIL */
        height: 100vh;
        max-height: 100%;
        overflow-y: scroll;

        padding-bottom: 100px;
    }

    .tools-compact-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .compact-section {
        padding: 12px;
    }

    .tools-compact-header {
        position: static;
        border-bottom: 1px solid #e2e8f0;
    }
}